<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="create_user_form_template" name="Create User Form">
        <t t-call="website.layout">
            <div class="container mt16">
                <h3>Create New User</h3>
                <form t-att-action="'/create_user'" method="post">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <div class="form-group">
                        <label for="user_name">User Name:</label>
                        <input type="text" class="form-control" name="name" id="user_name" required="True"/>
                    </div>

                    <div class="form-group">
                        <label for="user_email">Email / Login:</label>
                        <input type="email" class="form-control" name="email" id="user_email" required="True"/>
                    </div>

                    <div class="form-group">
                        <label for="role_id">Role / Group:</label>
                        <select class="form-control" name="role_id" id="role_id">
                            <option value="">-- Select Role --</option>
                            <t t-foreach="roles" t-as="role">
                                <option t-att-value="role.id" t-esc="role.name"/>
                            </t>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-success mt8">Create User</button>
                </form>
            </div>
        </t>
    </template>

    <template id="user_details_template" name="User Details">
    <t t-call="website.layout">
        <div class="container mt16">


            <p><b>User:</b> <t t-esc="user.name"/></p>
            <p><b>Description about rules:</b></p>
            <p><b>Manager:</b>
                <form t-att-action="'/update_manager'" method="post" class="form-inline">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <input type="hidden" name="user_id" t-att-value="user.id"/>

                    <select name="manager_id" class="form-control">
                        <option value="">-- No Manager --</option>
                        <t t-foreach="managers" t-as="mgr">
                            <option t-att-value="mgr.id"
        t-att-selected="mgr.id == manager">
    <t t-esc="mgr.name"/>
</option>

                        </t>
                    </select>

                    <button type="submit" class="btn btn-primary btn-sm ml8">Update</button>
                </form>
            </p>



            <a href="/my/users" class="btn btn-secondary mt8">Back to Users</a>
        </div>
    </t>
</template>

</odoo>
